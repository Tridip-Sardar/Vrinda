<nav class="navbar navbar-expand-md">
  <div class="container-fluid mx-5">
    <a class="navbar-brand" href="/"><img class="main-logo" src="images/main-logo.png"></a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse nav-links" id="navbarNavDropdown">
      <a class="nav-link active" aria-current="page" href="/detect"
        >Disease Detection</a
      >

      <a class="nav-link active" href="/community">Community</a>
      <a class="nav-link active" href="/gemini">Chatbot</a>
      <a class="nav-link active" href="/fertilizer">Fertilizer</a>
      <a class="nav-link active" href="/alert">Alerts</a>
      <!-- <a class="nav-link active" href="#">About Us</a> -->
      
    </div>
 
    <div style="margin-right: 4rem; margin-left: -2rem;">
      <% if(!currentUser) { %>
      <a class="navbar-brand" href="/login">Log in</a>
      <% } %> <% if(currentUser) { %>
        <div class="nav-item dropdown"> 
        <a
          class="nav-link"
          href="/profile"
          role="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
          
        >
          <i class="fa-solid fa-circle-user fa-xl"  style="color: black;"></i>
        </a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><a class="dropdown-item" href="#">Give Feedback</a></li>
          <li><a class="dropdown-item" href="/logout" onclick="return confirmLogout(event)">Log out</a></li>
        </ul>
      </div>
      <% } %>
    </div>
  </div>
</nav>

<script>
  // JavaScript function to handle logout confirmation
  function confirmLogout(event) {
    // Prevent default navigation
    event.preventDefault();

    // Show confirmation dialog
    const userConfirmed = confirm("Do you really want to log out?");
    
    // If user confirmed, navigate to the logout route
    if (userConfirmed) {
      window.location.href = "/logout";
    }
  }
</script>